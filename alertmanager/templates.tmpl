{{ define "alert.title" }}
🚨 {{ .CommonLabels.alertname }} - {{ .CommonLabels.severity | title }}
{{ end }}

{{ define "alert.message" }}
Hey team! 👋

We've detected an issue that needs your attention:

🔍 **What happened?**
{{ range .Alerts }}
{{ .Annotations.summary }}
{{ end }}

📊 **Details:**
{{ range .Alerts }}
{{ .Annotations.description }}
{{ end }}

🖥️ **Affected System:**
{{ range .CommonLabels.SortedPairs }}{{ if ne .Name "alertname" }}{{ if ne .Name "severity" }}
• {{ .Name | title }}: {{ .Value }}{{ end }}{{ end }}{{ end }}

⏰ **When:** {{ .Alerts.Firing | len }} alert(s) started firing

{{ if gt (len .Alerts.Resolved) 0 }}
✅ **Good news:** {{ .Alerts.Resolved | len }} alert(s) have been resolved
{{ end }}

Need help? Check the runbook or contact the on-call engineer.

---
This alert was generated by Prometheus Alertmanager
{{ end }}

{{ define "critical.title" }}
🚨🔥 CRITICAL ALERT: {{ .CommonLabels.alertname }}
{{ end }}

{{ define "critical.message" }}
⚠️ **CRITICAL ISSUE DETECTED** ⚠️

This requires immediate attention from the team!

🔥 **Problem:**
{{ range .Alerts }}
{{ .Annotations.summary }}
{{ end }}

📋 **What you need to know:**
{{ range .Alerts }}
{{ .Annotations.description }}
{{ end }}

🎯 **Affected Services:**
{{ range .CommonLabels.SortedPairs }}{{ if ne .Name "alertname" }}{{ if ne .Name "severity" }}
• {{ .Name | title }}: {{ .Value }}{{ end }}{{ end }}{{ end }}

⏱️ **Alert Duration:** {{ range .Alerts }}{{ .StartsAt.Format "15:04:05" }}{{ end }}

🚀 **Next Steps:**
1. Check the affected service immediately
2. Review logs for error patterns
3. Escalate to senior engineer if needed
4. Update the incident channel

💡 **Quick Links:**
• Dashboard: [View Metrics](#)
• Runbook: [Troubleshooting Guide](#)
• Logs: [Check Application Logs](#)

This is a critical alert - please acknowledge within 5 minutes.

---
Prometheus Alertmanager | {{ now.Format "2006-01-02 15:04:05" }}
{{ end }}

{{ define "warning.title" }}
⚠️ Warning: {{ .CommonLabels.alertname }}
{{ end }}

{{ define "warning.message" }}
👋 Hey team,

We've noticed something that might need attention:

💡 **Issue Summary:**
{{ range .Alerts }}
{{ .Annotations.summary }}
{{ end }}

📝 **More Details:**
{{ range .Alerts }}
{{ .Annotations.description }}
{{ end }}

🔧 **System Information:**
{{ range .CommonLabels.SortedPairs }}{{ if ne .Name "alertname" }}{{ if ne .Name "severity" }}
• {{ .Name | title }}: {{ .Value }}{{ end }}{{ end }}{{ end }}

⌚ **Started At:** {{ range .Alerts }}{{ .StartsAt.Format "15:04 MST" }}{{ end }}

📊 **Recommended Actions:**
• Monitor the situation for the next 10-15 minutes
• Check if this is part of a known pattern
• Review recent deployments or changes
• Consider investigating during business hours

This is a warning-level alert, so no immediate action is required, but keep an eye on it.

---
Monitoring Team | Alertmanager
{{ end }}

{{ define "resolved.title" }}
✅ Resolved: {{ .CommonLabels.alertname }}
{{ end }}

{{ define "resolved.message" }}
🎉 **Good news!** 

The following alert has been resolved:

✅ **Alert:** {{ .CommonLabels.alertname }}
📊 **Severity:** {{ .CommonLabels.severity | title }}

{{ range .Alerts.Resolved }}
🕐 **Was active from:** {{ .StartsAt.Format "15:04 MST" }} to {{ .EndsAt.Format "15:04 MST" }}
⏱️ **Duration:** {{ .EndsAt.Sub .StartsAt | humanizeDuration }}
{{ end }}

🖥️ **System:** 
{{ range .CommonLabels.SortedPairs }}{{ if ne .Name "alertname" }}{{ if ne .Name "severity" }}
• {{ .Name | title }}: {{ .Value }}{{ end }}{{ end }}{{ end }}

Thanks for keeping our systems healthy! 🚀

---
All clear | Alertmanager
{{ end }}

{{ define "slack.title" }}
{{ if eq .Status "firing" }}
{{ if eq .CommonLabels.severity "critical" }}🚨 CRITICAL{{ else if eq .CommonLabels.severity "warning" }}⚠️ WARNING{{ else }}ℹ️ INFO{{ end }}
{{ else }}
✅ RESOLVED
{{ end }} | {{ .CommonLabels.alertname }}
{{ end }}

{{ define "slack.message" }}
{{ if eq .Status "firing" }}
{{ if eq .CommonLabels.severity "critical" }}🔥 *Critical Alert*{{ else if eq .CommonLabels.severity "warning" }}⚠️ *Warning Alert*{{ else }}ℹ️ *Info Alert*{{ end }}
{{ else }}
✅ *Alert Resolved*
{{ end }}

*Alert:* {{ .CommonLabels.alertname }}
{{ range .Alerts }}
*Summary:* {{ .Annotations.summary }}
*Details:* {{ .Annotations.description }}
{{ end }}

*Instance:* {{ .CommonLabels.instance }}
{{ if .CommonLabels.job }}*Job:* {{ .CommonLabels.job }}{{ end }}

{{ if eq .Status "firing" }}
*Started:* {{ range .Alerts }}{{ .StartsAt.Format "15:04 MST" }}{{ end }}
{{ else }}
*Resolved:* {{ range .Alerts.Resolved }}{{ .EndsAt.Format "15:04 MST" }}{{ end }}
{{ end }}
{{ end }}
