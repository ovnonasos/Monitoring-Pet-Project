{{ define "alert.title" }}
ğŸš¨ {{ .CommonLabels.alertname }} - {{ .CommonLabels.severity | title }}
{{ end }}

{{ define "alert.message" }}
Hey team! ğŸ‘‹

We've detected an issue that needs your attention:

ğŸ” **What happened?**
{{ range .Alerts }}
{{ .Annotations.summary }}
{{ end }}

ğŸ“Š **Details:**
{{ range .Alerts }}
{{ .Annotations.description }}
{{ end }}

ğŸ–¥ï¸ **Affected System:**
{{ range .CommonLabels.SortedPairs }}{{ if ne .Name "alertname" }}{{ if ne .Name "severity" }}
â€¢ {{ .Name | title }}: {{ .Value }}{{ end }}{{ end }}{{ end }}

â° **When:** {{ .Alerts.Firing | len }} alert(s) started firing

{{ if gt (len .Alerts.Resolved) 0 }}
âœ… **Good news:** {{ .Alerts.Resolved | len }} alert(s) have been resolved
{{ end }}

Need help? Check the runbook or contact the on-call engineer.

---
This alert was generated by Prometheus Alertmanager
{{ end }}

{{ define "critical.title" }}
ğŸš¨ğŸ”¥ CRITICAL ALERT: {{ .CommonLabels.alertname }}
{{ end }}

{{ define "critical.message" }}
âš ï¸ **CRITICAL ISSUE DETECTED** âš ï¸

This requires immediate attention from the team!

ğŸ”¥ **Problem:**
{{ range .Alerts }}
{{ .Annotations.summary }}
{{ end }}

ğŸ“‹ **What you need to know:**
{{ range .Alerts }}
{{ .Annotations.description }}
{{ end }}

ğŸ¯ **Affected Services:**
{{ range .CommonLabels.SortedPairs }}{{ if ne .Name "alertname" }}{{ if ne .Name "severity" }}
â€¢ {{ .Name | title }}: {{ .Value }}{{ end }}{{ end }}{{ end }}

â±ï¸ **Alert Duration:** {{ range .Alerts }}{{ .StartsAt.Format "15:04:05" }}{{ end }}

ğŸš€ **Next Steps:**
1. Check the affected service immediately
2. Review logs for error patterns
3. Escalate to senior engineer if needed
4. Update the incident channel

ğŸ’¡ **Quick Links:**
â€¢ Dashboard: [View Metrics](#)
â€¢ Runbook: [Troubleshooting Guide](#)
â€¢ Logs: [Check Application Logs](#)

This is a critical alert - please acknowledge within 5 minutes.

---
Prometheus Alertmanager | {{ now.Format "2006-01-02 15:04:05" }}
{{ end }}

{{ define "warning.title" }}
âš ï¸ Warning: {{ .CommonLabels.alertname }}
{{ end }}

{{ define "warning.message" }}
ğŸ‘‹ Hey team,

We've noticed something that might need attention:

ğŸ’¡ **Issue Summary:**
{{ range .Alerts }}
{{ .Annotations.summary }}
{{ end }}

ğŸ“ **More Details:**
{{ range .Alerts }}
{{ .Annotations.description }}
{{ end }}

ğŸ”§ **System Information:**
{{ range .CommonLabels.SortedPairs }}{{ if ne .Name "alertname" }}{{ if ne .Name "severity" }}
â€¢ {{ .Name | title }}: {{ .Value }}{{ end }}{{ end }}{{ end }}

âŒš **Started At:** {{ range .Alerts }}{{ .StartsAt.Format "15:04 MST" }}{{ end }}

ğŸ“Š **Recommended Actions:**
â€¢ Monitor the situation for the next 10-15 minutes
â€¢ Check if this is part of a known pattern
â€¢ Review recent deployments or changes
â€¢ Consider investigating during business hours

This is a warning-level alert, so no immediate action is required, but keep an eye on it.

---
Monitoring Team | Alertmanager
{{ end }}

{{ define "resolved.title" }}
âœ… Resolved: {{ .CommonLabels.alertname }}
{{ end }}

{{ define "resolved.message" }}
ğŸ‰ **Good news!** 

The following alert has been resolved:

âœ… **Alert:** {{ .CommonLabels.alertname }}
ğŸ“Š **Severity:** {{ .CommonLabels.severity | title }}

{{ range .Alerts.Resolved }}
ğŸ• **Was active from:** {{ .StartsAt.Format "15:04 MST" }} to {{ .EndsAt.Format "15:04 MST" }}
â±ï¸ **Duration:** {{ .EndsAt.Sub .StartsAt | humanizeDuration }}
{{ end }}

ğŸ–¥ï¸ **System:** 
{{ range .CommonLabels.SortedPairs }}{{ if ne .Name "alertname" }}{{ if ne .Name "severity" }}
â€¢ {{ .Name | title }}: {{ .Value }}{{ end }}{{ end }}{{ end }}

Thanks for keeping our systems healthy! ğŸš€

---
All clear | Alertmanager
{{ end }}

{{ define "slack.title" }}
{{ if eq .Status "firing" }}
{{ if eq .CommonLabels.severity "critical" }}ğŸš¨ CRITICAL{{ else if eq .CommonLabels.severity "warning" }}âš ï¸ WARNING{{ else }}â„¹ï¸ INFO{{ end }}
{{ else }}
âœ… RESOLVED
{{ end }} | {{ .CommonLabels.alertname }}
{{ end }}

{{ define "slack.message" }}
{{ if eq .Status "firing" }}
{{ if eq .CommonLabels.severity "critical" }}ğŸ”¥ *Critical Alert*{{ else if eq .CommonLabels.severity "warning" }}âš ï¸ *Warning Alert*{{ else }}â„¹ï¸ *Info Alert*{{ end }}
{{ else }}
âœ… *Alert Resolved*
{{ end }}

*Alert:* {{ .CommonLabels.alertname }}
{{ range .Alerts }}
*Summary:* {{ .Annotations.summary }}
*Details:* {{ .Annotations.description }}
{{ end }}

*Instance:* {{ .CommonLabels.instance }}
{{ if .CommonLabels.job }}*Job:* {{ .CommonLabels.job }}{{ end }}

{{ if eq .Status "firing" }}
*Started:* {{ range .Alerts }}{{ .StartsAt.Format "15:04 MST" }}{{ end }}
{{ else }}
*Resolved:* {{ range .Alerts.Resolved }}{{ .EndsAt.Format "15:04 MST" }}{{ end }}
{{ end }}
{{ end }}
